<!DOCTYPE html>
<main>
    <title>지윤상점</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="main.css">
</main>

<body>
    <div class="container">
        <div class="flex-container2">
            <div class = "header2">
                <b1 class="anim">안녕하세요!</b1><br/>
                <b2 style="margin-left: 10px;">
                    <cb>지윤 상점</cb>에 오신 것을 환영합니다.</b2><br>
            </div>

            <div class="flex-container">
                <div class="navigator">
                    <a href="login.html">로그인</a>
                </div>
                <div class="navigator">
                    <a href="signup.html">회원가입</a>
                </div>
            </div>
        </div>

        <p style="text-align: center; margin-top: 40px; margin-bottom: 10px; border-top: 2px solid rgb(255, 222, 230); padding-top: 20px;">
            <b3>BOOKSTORE</b3>
        </p>
        <div class="filter">
            <label>
                검색:
                <input type="text" id="search" style="width: 100px; background-color: rgb(255, 222, 230);">
            </label>
            <label>| 카테고리:
                <select id="category">
                    <option selected>전체</option>
                    <option>소설</option>
                    <option>에세이</option>
                    <option>시</option>
                    <option>과학</option>
                </select>
            </label>
            <label>
                | 정렬:
                <select id="sort">
                    <option>인기순</option>
                    <option>낮은 가격순</option>
                    <option>높은 가격순</option>
                </select>
            </label>
        </div>
        <div class="flex-container">
            <div style="margin-top: 30px;">
                <div class="item">
                    <img src="소설01.jpg" height="200px" alt="불편한 편의점">
                    <p class="appear">불편한 편의점<br><b5>김호연<br>14000원</b5></p>
                </div>
                <div class="item">
                    <img src="에세이01.jpg" height="200px" alt="기분을 관리하면 인생이 관리된다">
                    <p class="appear">기분을 관리하면<br>인생이 관리된다<br><b5>김다슬<br>17600원</b5></p>
                </div>
                <div class="item">
                    <img src="시01.jpg" height="200px" alt="꽃을 보듯 너를 본다">
                    <p class="appear">꽃을 보듯<br> 너를 본다<br><b5>나태주<br>11000원</b5></p>
                </div>
                <div class="item">
                    <img src="과학01.jpg" height="200px" alt="sring sunflowerp">
                    <p class="appear">why fish don't exist<br><b5>Lulu Miller<br>17000원</b5></p>
                </div>
                <div class="item">
                    <img src="소설02.jpg" height="200px" alt="하얼빈">
                    <p class="appear">하얼빈<br><b5>김호연<br>14000원</b5></p>
                </div>
                <div class="item">
                    <img src="에세이02.jpg" height="200px" alt="나는 당신이 행복했으면 좋겠습니다">
                    <p class="appear">나는 당신이<br> 행복했으면<br> 좋겠습니다<br><b5>박찬위<br>13800원</b5></p>
                </div>
            </div>
        </div>
        
    </div>

    <script>
        fetch('product.json')
            .them(response => response.json())
            .then(json => {
            items = json;
            
            
            
            function showItem(item) {
                document.write(`<div class="item">
                <img src=` + item.image + ` height="160px" alt=` + item.title + `>
                <p class="appear">` + item.title + `(` + item.author + `) <br><b4>` + item.prize + `원 </b4></p>
                </div>`)
            }

            for (i = 0; i < items.length; i++) {
                for (j = 0; j < items[i].length; j++) {
                        showItem(json[i][j]);
                }
            }

            function search() {
                let si = document.getElementById('search');

                si.addEventListener('input', () => {
                    let kw = si.value.trim();
                    kwitm = items.filter(items => items.title.includes(kw));
                    for (i = 0; i < len(kwitm); i++) {
                        let im = kwitm[i];
                        showItem(im);
                    }
                })
            }


        })

        function InfiniteScroll() {
            window.onscroll = () => {
                if (window.innerHeight + window.scrollY >= document.body.offsetHeight) {
                    document.querySelector('body').style.background = 'blue';
                } else {
                    document.querySelector('body').style.background = 'white';
                }
            }
        }
    </script>

</body>
